<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>GUA'ƒ® APP ‚Äì Presupuestos r√°pidos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 0;
      text-align: center;
      color: #333;
    }

    header {
      background: #ffffff;
      padding: 30px 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    header img {
      max-width: 220px;
      margin-bottom: 10px;
    }

    h1 {
      margin: 10px 0 5px;
      color: #1f3c88;
    }

    .tag {
      display: inline-block;
      background: #f59e0b;
      color: #fff;
      padding: 8px 18px;
      border-radius: 20px;
      font-size: 14px;
      margin-top: 10px;
    }

    main {
      padding: 30px 20px;
    }

    h2 {
      margin-bottom: 20px;
    }

    input {
      width: 100%;
      max-width: 420px;
      padding: 14px;
      margin: 10px auto;
      display: block;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    button {
      background: #1f3c88;
      color: #fff;
      border: none;
      padding: 14px 30px;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 15px;
    }

    button:hover {
      opacity: 0.9;
    }

    #installBtn {
      background: #28a745;
      display: none;
    }

    #resultado {
      margin-top: 25px;
      font-size: 18px;
      color: #1f3c88;
      font-weight: bold;
    }

    footer {
      margin-top: 40px;
      padding: 20px;
      font-size: 14px;
      color: #555;
    }

    footer a {
      color: #1f3c88;
      text-decoration: none;
      display: block;
      margin-top: 8px;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

  <header>
    <img src="logotipo-guaiapp.png" alt="Gua'ƒ© APP Logo">
    <h1>GUA'ƒ® APP</h1>
    <p>Da la vuelta a tu manera de trabajar</p>
    <div class="tag">MVP EN DESARROLLO</div>
  </header>

  <main>
    <h2>Presupuesto r√°pido</h2>

    <input type="text" id="cliente" placeholder="Nombre del cliente">
    <input type="text" id="servicio" placeholder="Servicio a realizar">
    <input type="number" id="monto" placeholder="Monto en Gs.">

    <button onclick="generarPresupuesto()">Generar presupuesto</button>
    <button onclick="descargarPDF()" style="margin-top:10px; background:#28a745;">
  üìÑ Descargar PDF
    </button>

    <!-- BOT√ìN DESCARGA APP -->
    <button id="installBtn">üì• Descargar Gua‚Äôƒ© APP</button>

    <div id="resultado"></div>
  </main>

  <footer>
    Desarrollado por <strong>RHAB Tech</strong>
    <a href="https://wa.me/595XXXXXXXXX" target="_blank">üì± WhatsApp Soporte</a>
    <a href="mailto:guaiapp@rhabinternationaltrading.com">
      ‚úâÔ∏è guaiapp@rhabinternationaltrading.com
    </a>
  </footer>

  <script>
    function generarPresupuesto() {
      const cliente = document.getElementById("cliente").value;
      const servicio = document.getElementById("servicio").value;
      const monto = document.getElementById("monto").value;

      if (!cliente || !servicio || !monto) {
        alert("Complet√° todos los campos");
        return;
      }

      document.getElementById("resultado").innerHTML =
        `Presupuesto generado para <b>${cliente}</b><br>
         Servicio: ${servicio}<br>
         Monto: <b>Gs. ${monto}</b>`;
    }

    /* ===== BOT√ìN DESCARGAR APP (PWA) ===== */
    let deferredPrompt;
    const installBtn = document.getElementById("installBtn");

    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBtn.style.display = "inline-block";
    });

    installBtn.addEventListener("click", async () => {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      await deferredPrompt.userChoice;
      deferredPrompt = null;
      installBtn.style.display = "none";
    });
  <script>
function descargarPDF() {
  const cliente = document.getElementById("cliente").value;
  const servicio = document.getElementById("servicio").value;
  const monto = document.getElementById("monto").value;

  if (!cliente || !servicio || !monto) {
    alert("Complet√° todos los campos antes de descargar el PDF");
    return;
  }

  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  const fecha = new Date().toLocaleDateString();
  const nro = Math.floor(Math.random() * 100000);

  const logo = new Image();
  logo.src = "logo-guaiapp.png";

  logo.onload = function () {
    doc.addImage(logo, "PNG", 80, 10, 50, 20);

    doc.setFontSize(16);
    doc.text("PRESUPUESTO DE SERVICIO", 60, 40);

    doc.setFontSize(11);
    doc.text(`Fecha: ${fecha}`, 20, 60);
    doc.text(`Presupuesto N¬∞: ${nro}`, 20, 68);

    doc.line(20, 72, 190, 72);

    doc.setFontSize(12);
    doc.text(`Cliente: ${cliente}`, 20, 90);
    doc.text(`Servicio: ${servicio}`, 20, 100);
    doc.text(`Monto: Gs. ${monto}`, 20, 110);

    doc.line(20, 115, 190, 115);

    doc.setFontSize(10);
    doc.text("GUA¬¥ƒ® APP ‚Äì Aplicaci√≥n inteligente", 20, 130);
    doc.text("RHAB INTERNATIONAL TRADING", 20, 138);
    doc.text("WhatsApp: +595 992 755 100", 20, 146);
    doc.text("Email: guaiapp@rhabinternationaltrading.com", 20, 154);

    doc.save(`Presupuesto-${cliente}.pdf`);
  };
}
</script>
  
</body>
</html>
